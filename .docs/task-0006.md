# Task 0006: Build activity ingestion pipeline

## Phase
Phase 2: Core Processing (Weeks 3-4)

## Description
Implement the complete pipeline for ingesting engineer activities, from API endpoint to database storage and job queuing.

## Acceptance Criteria
- [ ] Implement `POST /v1/activities` endpoint
- [ ] Add request validation for activity submissions
- [ ] Store activities in `raw_activities` table
- [ ] Queue background processing jobs
- [ ] Implement activity history endpoint (`GET /v1/activities`)
- [ ] Add pagination support for activity lists
- [ ] Implement proper error responses and status codes
- [ ] Add activity deduplication logic

## Dependencies
- Task 0003 (API server)
- Task 0005 (Data models and repositories)

## Estimated Effort
3-4 days

## Technical Notes
- Validate activity text length and content
- Support optional timestamp parameter (defaults to current time)
- Implement proper HTTP status codes (201 for creation, 400 for validation errors)
- Add request ID tracking for debugging
- Consider activity text sanitization
- Implement pagination with limit/offset parameters

## Definition of Done
- Activity submission endpoint is functional
- Activities are properly stored in database
- Background processing jobs are queued
- Activity history can be retrieved with pagination
- Error handling is comprehensive
- API follows documented specification
